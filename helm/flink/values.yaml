image: flink
imageTag: 1.3.2-hadoop27-scala_2.11
imagePullPolicy: Always

resources:
  jobmanager:
    limits:
      cpu: 1000m
      memory: 2000Mi
    requests:
      cpu: 100m
      memory: 1000Mi
  taskmanager:
    limits:
      memory: 2000Mi
    requests:
      memory: 1000Mi

flink:
  jobmanager_heap_mb: 512
  taskmanager_heap_mb: 512
  num_taskmanagers: 1
  num_slots_per_taskmanager: 1

  ## Other config options for flink-conf.yaml
  config: |
    high-availability: zookeeper
    high-availability.zookeeper.quorum: myzk-zookeeper-0.myzk-zookeeper-headless.default.svc.cluster.local:2181,myzk-zookeeper-1.myzk-zookeeper-headless.default.svc.cluster.local:2181,myzk-zookeeper-2.myzk-zookeeper-headless.default.svc.cluster.local:2181
    high-availability.zookeeper.path.root: /flink
    high-availability.zookeeper.path.namespace: test_cluster
    high-availability.storageDir: /tmp/flink/recovery
    high-availability.jobmanager.port: 6123
    state.checkpoints.dir: /tmp/flink/externalized-checkpoints
    query.server.enable: true

storage: "10Gi"
# storageClass: default

hadoop:
  core-site.xml: |
    <?xml version="1.0"?>
    <?xml-stylesheet type="text/xsl" href="configuration.xsl"?>
    <configuration/>
